
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial &mdash; nitarray v0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/nitarray_logo.ico"/>
    <link rel="top" title="nitarray v0.1 documentation" href="index.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="Welcome to the nitarray documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the nitarray documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">nitarray v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Computers function based on arrays of bits.  Physically, this is the state of a transitor or
some other device that can be measured to have a clear voltage difference between two levels.
In software, we represent the on and off states by 1 and 0 (our bits).</p>
<div class="section" id="what-is-a-nit">
<h2>What is a nit?<a class="headerlink" href="#what-is-a-nit" title="Permalink to this headline">¶</a></h2>
<p>A nit is very similar to a bit except that is of base-n, rather than base-2.  So as bit can be
represented by [0, 1], a nit (base-n) may be any interger [0, 1, 2, ..., n-1].  In fact, bits
are simply a special case of nits!  Many of the following examples will use base-3 nits,
sometimes known as <a class="reference external" href="http://en.wikipedia.org/wiki/Trit">trits</a>.</p>
<p>Any integer may be converted to a nit-representation using the <a class="reference internal" href="api.html#nitarray.nit" title="nitarray.nit"><tt class="xref py py-func docutils literal"><span class="pre">nit()</span></tt></a>
function.  This function takes x, the number to convert, and the base to cast it into.
It returns a list of nits that are the base-n digits of x.
(Note that the term &#8216;nit&#8217; is a not-so-clever anagram of &#8216;int&#8217;.)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nit</span>

<span class="gp">In [2]: </span><span class="n">nit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

<span class="gp">In [3]: </span><span class="n">nit</span><span class="p">(</span><span class="mi">1794864036260549376542</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="p">[</span><span class="il">1L</span><span class="p">,</span> <span class="il">17L</span><span class="p">,</span> <span class="il">24L</span><span class="p">,</span> <span class="il">0L</span><span class="p">,</span> <span class="il">20L</span><span class="p">,</span> <span class="il">37L</span><span class="p">,</span> <span class="il">22L</span><span class="p">,</span> <span class="il">15L</span><span class="p">,</span> <span class="il">16L</span><span class="p">,</span> <span class="il">20L</span><span class="p">,</span> <span class="il">26L</span><span class="p">,</span> <span class="il">19L</span><span class="p">,</span> <span class="il">34L</span><span class="p">,</span> <span class="il">14L</span><span class="p">]</span>

<span class="gp">In [4]: </span><span class="n">nit</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[4]: </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="gp">In [5]: </span><span class="n">nit</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
<span class="gr">Out[5]: </span><span class="p">[</span><span class="mi">101</span><span class="p">]</span>
</pre></div>
</div>
<p>As you can see, because of python&#8217;s native long support you can go a bit crazy with the
nits that you represent.</p>
<p>You can read the above nits the same way you read base-10 numbers.  The last element is the
n^0 place, the second to last element is the n^1 place, and so until you get the front of
the list which is the n^(length - 1) place.</p>
<p>Reversing the 10-base-3 example above, we see that the last element is 1 so we start a running
tally with 1 as the initial value.  The second to last element is 0, so we don&#8217;t add anything to
our tally.  The third-to-last, or the first, element is 1 so we add 1 * 3^2 = 9 to the tally.
Now our tally is 10, which was our original integer.</p>
<p>The rest are left as an exercise for the reader.</p>
</div>
<div class="section" id="why-a-nitarray">
<h2>Why a nitarray?<a class="headerlink" href="#why-a-nitarray" title="Permalink to this headline">¶</a></h2>
<p>From the previous section, you can see that nits are just sequences of integers that are
less than base-n that represent some <em>other</em> interger!  This process is analogous to how
32-bits are often used to represent a base-10 integer.</p>
<p>However in the above, every digit in the nit-list is itself a 32 bit (or longer) integer
in memory.  This is a huge waste of resources for a data type that can be represneted
by fundementally smaller units.  (For example, it only takes 2 bits to represent base-3 or
base-4 digits, not 32.  It takes 3 bits to represent base-5 through base-8 digits.)</p>
<p><strong>Enter: nitarray.</strong>  The nitarray class stores nits in the smallest number of bits possible.
Thus space and time are saved on common opperations on nitarrays over using standard python
lists of 32-bit integers or longs.  As such, a nitarray is just a special way of encoding
bits (using the <a class="reference external" href="http://pypi.python.org/pypi/bitarray">bitarray</a> package).  You can generate mappings from normal python
intergers to their binary represnetation using the <a class="reference internal" href="api.html#nitarray.nit_encoding" title="nitarray.nit_encoding"><tt class="xref py py-func docutils literal"><span class="pre">nit_endocding()</span></tt></a>
function.  For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nit_encoding</span>

<span class="gp">In [2]: </span><span class="n">nit_encoding</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">Out[2]:</span>
<span class="go">{0: bitarray(&#39;000&#39;),</span>
<span class="go"> 1: bitarray(&#39;001&#39;),</span>
<span class="go"> 2: bitarray(&#39;010&#39;),</span>
<span class="go"> 3: bitarray(&#39;011&#39;),</span>
<span class="go"> 4: bitarray(&#39;100&#39;),</span>
<span class="go"> 5: bitarray(&#39;101&#39;)}</span>
</pre></div>
</div>
<p>Currently, all nits are big-endian.  It would not be particularly dificult to add an endianness
flag to the object.  However, time being what it is...</p>
</div>
<div class="section" id="using-nitarrays">
<h2>Using nitarrays<a class="headerlink" href="#using-nitarrays" title="Permalink to this headline">¶</a></h2>
<p>Now that we know &#8216;what&#8217; and &#8216;why&#8217;, it is time to get out hands dirty.  You can make a new
nitarray in a few different ways.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nitarray</span>

<span class="gp">In [2]: </span><span class="n">nitarray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,0,2,2,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,6,2,0,4&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,6,2,0,4&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">nitarray</span><span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="gr">Out[4]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>In the first instance we passed the <a class="reference internal" href="api.html#nitarray.nitarray" title="nitarray.nitarray"><tt class="xref py py-class docutils literal"><span class="pre">nitarray</span></tt></a> an iterartor
whose values are the nits.  In the second, we gave it a string of comma-separated nits.
In the third, an integer passed in means that we want a zero-array of this length.
For all cases, we must pass in the base of the nitarray as the second argument.</p>
<p>Once you have a <a class="reference internal" href="api.html#nitarray.nitarray" title="nitarray.nitarray"><tt class="xref py py-class docutils literal"><span class="pre">nitarray</span></tt></a>, there are a number of useful
methods that you may apply.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [5]: </span><span class="n">n</span> <span class="o">=</span> <span class="n">nitarray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">n</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">n</span>
<span class="gr">Out[7]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,0,2,2,0,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">n</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[8]: </span><span class="mi">3</span>

<span class="gp">In [9]: </span><span class="n">n</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">n</span>
<span class="gr">Out[10]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,2,0,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">n</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gr">Out[11]: </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="gp">In [12]: </span><span class="n">n</span><span class="o">.</span><span class="n">to01</span><span class="p">()</span>
<span class="gr">Out[12]: </span><span class="s">&#39;1,2,2,0,2&#39;</span>

<span class="gp">In [13]: </span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gr">Out[13]: </span><span class="mi">155</span>
</pre></div>
</div>
<p>Trying to append a nit that is greater than or equal to the base value is clearly not
allowed.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">n</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">---------------------------------------------------------------------------</span>
<span class="go">AssertionError                            Traceback (most recent call last)</span>

<span class="go">/home/scopatz/&lt;ipython console&gt; in &lt;module&gt;()</span>

<span class="go">/home/scopatz/nitarray/nitarray/nitarray.pyc in append(self, x)</span>
<span class="go">    382         &quot;&quot;&quot;Appends the nit x to the end of the array.&quot;&quot;&quot;</span>
<span class="go">    383         x = int(x)</span>
<span class="go">--&gt; 384         assert (x in self._allowed_nits)</span>
<span class="go">    385         x_array = encodings_cache[self._n][x]</span>
<span class="go">    386         self._bitarray += x_array</span>

<span class="go">AssertionError:</span>
</pre></div>
</div>
</div>
<div class="section" id="indexing-nitarrays">
<h2>Indexing nitarrays<a class="headerlink" href="#indexing-nitarrays" title="Permalink to this headline">¶</a></h2>
<p>As with other sequence types in Python, <a class="reference internal" href="api.html#nitarray.nitarray" title="nitarray.nitarray"><tt class="xref py py-class docutils literal"><span class="pre">nitarrays</span></tt></a> can
be indexed into and sliced.  Assigment can also take place from indexes and slices.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Striding is not currently supported because the underlying implementation is tricky.
Currently, for speed, we pass slices down to bitarrays.  Striding would require
reading out discrete chucks of bitarrays, which is not supported by the Python
syntax.  Since we cannot pass strides down to bitarray, this would have to be done
at a higher level.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nitarray</span>

<span class="gp">In [2]: </span><span class="n">n</span> <span class="o">=</span> <span class="n">nitarray</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">n</span>
<span class="gr">Out[3]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;0,0,0,0,0,0,0,0,0,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">n</span><span class="o">.</span><span class="n">setall</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">n</span>
<span class="gr">Out[5]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,1,1,1,1,1,1,1,1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">n</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">nitarray</span><span class="p">([</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">n</span>
<span class="gr">Out[7]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,1,2,2,2,2,2,1,1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="k">del</span> <span class="n">n</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="gp">In [9]: </span><span class="n">n</span>
<span class="gr">Out[9]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,1,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">n</span> <span class="o">+=</span> <span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">n</span>
<span class="gr">Out[11]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,1,2,1,2,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">n</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="gp">In [13]: </span><span class="n">n</span>
<span class="gr">Out[13]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,1,0,1,2,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [14]: </span><span class="n">n</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;0,2&#39;</span>

<span class="gp">In [15]: </span><span class="n">n</span>
<span class="gr">Out[15]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,0,2,1,2,0&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">n</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="gr">Out[16]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;0,2,1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">n</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>

<span class="gp">In [18]: </span><span class="n">n</span>
<span class="gr">Out[18]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,1,0,2,1,2,0,2,2,2,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Other standard Python sequence interfaces are also available.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">n</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[19]: </span><span class="mi">1</span>

<span class="gp">In [20]: </span><span class="n">n</span>
<span class="gr">Out[20]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,0,2,1,2,0,2,2,2,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">n</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[21]: </span><span class="mi">2</span>

<span class="gp">In [22]: </span><span class="n">n</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">n</span>
<span class="gr">Out[23]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,1,2,0,2,2,2,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">n</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [25]: </span><span class="n">n</span>
<span class="gr">Out[25]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,1,2,0,2,2,2,2,0,1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="n">n</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="n">n</span>
<span class="gr">Out[27]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,1,2,0,0,2,2,2,2,0,1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">n</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="gp">In [29]: </span><span class="n">n</span>
<span class="gr">Out[29]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;0,0,0,1,1,1,2,2,2,2,2,2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Lastly, you can iterate over a nitarray, returning the individual nits in their own arrays.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nitarray</span>

<span class="gp">In [2]: </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,2,5,3,3&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
<span class="gp">   ...:</span>     <span class="k">print</span> <span class="n">n</span>
<span class="gp">   ...:</span>
<span class="gp">   ...:</span>
<span class="go">nitarray(&#39;1&#39;, 6)</span>
<span class="go">nitarray(&#39;2&#39;, 6)</span>
<span class="go">nitarray(&#39;5&#39;, 6)</span>
<span class="go">nitarray(&#39;3&#39;, 6)</span>
<span class="go">nitarray(&#39;3&#39;, 6)</span>
</pre></div>
</div>
</div>
<div class="section" id="ecoding-and-decoding-nitarrays">
<h2>Ecoding and Decoding nitarrays<a class="headerlink" href="#ecoding-and-decoding-nitarrays" title="Permalink to this headline">¶</a></h2>
<p>The major use of bits is that arrays of bits can be encoded and decoded into other objects
(<em>e.g.</em> characters).  To fully simulate other computer architectures, hooks into
encoding and decoding <a class="reference internal" href="api.html#nitarray.nitarray" title="nitarray.nitarray"><tt class="xref py py-class docutils literal"><span class="pre">nitarrays</span></tt></a> are also provided.</p>
<p>An encoding is simply a mapping from unique objects to nitarrays.  We acomplish this very
naturally in Python using dictionaries.  We can then extend an existing nitarray using the
<a class="reference internal" href="api.html#nitarray.nitarray.encode" title="nitarray.nitarray.encode"><tt class="xref py py-meth docutils literal"><span class="pre">encode()</span></tt></a> method, this dictionary, and an iterable of
the keys of the dictionary.  The following example uses strings, but any iterable of hashable
objects would work as well.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nitarray</span>

<span class="gp">In [2]: </span><span class="n">n</span> <span class="o">=</span> <span class="n">nitarray</span><span class="p">([],</span> <span class="mi">42</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;L&#39;</span><span class="p">:</span> <span class="n">nitarray</span><span class="p">([</span><span class="mi">7</span><span class="p">],</span> <span class="mi">42</span><span class="p">),</span> <span class="s">&#39;O&#39;</span><span class="p">:</span> <span class="n">nitarray</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">42</span><span class="p">)}</span>

<span class="gp">In [4]: </span><span class="n">n</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s">&#39;LOL&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">n</span>
<span class="gr">Out[5]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;7,0,0,0,0,0,0,7&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>To decode a nitarray pass in the same mapping as before to the
<a class="reference internal" href="api.html#nitarray.nitarray.decode" title="nitarray.nitarray.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a> method.  This will return a list  of the
keys of the coding.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [6]: </span><span class="n">n</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gr">Out[6]: </span><span class="p">[</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="s">&#39;O&#39;</span><span class="p">,</span> <span class="s">&#39;L&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>As seen here, if you decode with the same dictionary as that you encoded with,
you obtain an equivelent iterable.  Hoever, you could have chosen to decode with another
mapping.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [7]: </span><span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="n">nitarray</span><span class="p">([</span><span class="mi">7</span><span class="p">],</span> <span class="mi">42</span><span class="p">),</span> <span class="s">&#39;!&#39;</span><span class="p">:</span> <span class="n">nitarray</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">42</span><span class="p">)}</span>

<span class="gp">In [8]: </span><span class="n">n</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>
<span class="gr">Out[8]: </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Encoding and decoding becomes very useful when dealing with sequences of characters, or strings.
In fact, this is such a common use case that we provide a function to generate ASCII-to-nitarray
encoding dictionaries, <a class="reference internal" href="api.html#nitarray.char_encoding" title="nitarray.char_encoding"><tt class="xref py py-func docutils literal"><span class="pre">char_encoding()</span></tt></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">char_encoding</span>

<span class="gp">In [2]: </span><span class="n">char_encoding</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Out[2]:</span>
<span class="go">{&#39;\x00&#39;: nitarray(&#39;0,0,0,0,0,0&#39;, 3),</span>
<span class="go"> &#39;\x01&#39;: nitarray(&#39;0,0,0,0,0,1&#39;, 3),</span>
<span class="go"> &#39;\x02&#39;: nitarray(&#39;0,0,0,0,0,2&#39;, 3),</span>
<span class="go">...</span>
<span class="go"> &#39; &#39;: nitarray(&#39;0,0,1,0,1,2&#39;, 3),</span>
<span class="go"> &#39;!&#39;: nitarray(&#39;0,0,1,0,2,0&#39;, 3),</span>
<span class="go"> &#39;&quot;&#39;: nitarray(&#39;0,0,1,0,2,1&#39;, 3),</span>
<span class="go"> &#39;#&#39;: nitarray(&#39;0,0,1,0,2,2&#39;, 3),</span>
<span class="go"> &#39;$&#39;: nitarray(&#39;0,0,1,1,0,0&#39;, 3),</span>
<span class="go">...</span>
<span class="go"> &#39;A&#39;: nitarray(&#39;0,0,2,1,0,2&#39;, 3),</span>
<span class="go"> &#39;B&#39;: nitarray(&#39;0,0,2,1,1,0&#39;, 3),</span>
<span class="go"> &#39;C&#39;: nitarray(&#39;0,0,2,1,1,1&#39;, 3),</span>
<span class="go">...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>It is these character encodings that are used automatically when you use the
<a class="reference internal" href="api.html#nitarray.nitarray.fromstring" title="nitarray.nitarray.fromstring"><tt class="xref py py-meth docutils literal"><span class="pre">tostring()</span></tt></a>,
<a class="reference internal" href="api.html#nitarray.nitarray.fromstring" title="nitarray.nitarray.fromstring"><tt class="xref py py-meth docutils literal"><span class="pre">fromstring()</span></tt></a>,
<a class="reference internal" href="api.html#nitarray.nitarray.fromstring" title="nitarray.nitarray.fromstring"><tt class="xref py py-meth docutils literal"><span class="pre">tofile()</span></tt></a>, or
<a class="reference internal" href="api.html#nitarray.nitarray.fromstring" title="nitarray.nitarray.fromstring"><tt class="xref py py-meth docutils literal"><span class="pre">fromfile()</span></tt></a> methods.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">nitarray</span> <span class="kn">import</span> <span class="n">nitarray</span>

<span class="gp">In [2]: </span><span class="n">n</span> <span class="o">=</span> <span class="n">nitarray</span><span class="p">([],</span> <span class="mi">42</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">n</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;No one expects the Spanish Inquisition!&quot;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">n</span>
<span class="gr">Out[4]: </span><span class="n">nitarray</span><span class="p">(</span><span class="s">&#39;1,36,2,27,0,32,2,27,2,26,2,17,0,32,2,17,2,36,2,28,2,17,&#39;</span>
<span class="go">                 &#39;2,15,2,32,2,31,0,32,2,32,2,20,2,17,0,32,1,41,2,28,2,13,&#39;</span>
<span class="go">                 &#39;2,26,2,21,2,31,2,20,0,32,1,31,2,26,2,29,2,33,2,21,2,31,&#39;</span>
<span class="go">                 &#39;2,21,2,32,2,21,2,27,2,26,0,33&#39;, 42)</span>

<span class="gp">In [5]: </span><span class="n">n</span><span class="o">.</span><span class="n">tostring</span><span class="p">()</span>
<span class="gr">Out[5]: </span><span class="s">&#39;No one expects the Spanish Inquisition!&#39;</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/nitarray_logo_200x150.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#what-is-a-nit">What is a nit?</a></li>
<li><a class="reference internal" href="#why-a-nitarray">Why a nitarray?</a></li>
<li><a class="reference internal" href="#using-nitarrays">Using nitarrays</a></li>
<li><a class="reference internal" href="#indexing-nitarrays">Indexing nitarrays</a></li>
<li><a class="reference internal" href="#ecoding-and-decoding-nitarrays">Ecoding and Decoding nitarrays</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to the nitarray documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">API Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the nitarray documentation!"
             >previous</a> |</li>
        <li><a href="index.html">nitarray v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Anthony Scopatz.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>